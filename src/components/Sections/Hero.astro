---
import { ArrowRight } from 'lucide-react';
import { Button } from '@/components/ui/button';
import { Picture } from 'astro:assets';
import heroImage from '@/assets/images/hero-image.jpg';
import videoH264 from '@/assets/video/sound_staff_1_h264_crf33.mp4';
import videoAv1 from '@/assets/video/sound_staff_1_av1_crf60.webm';
---

<section
  class='relative flex min-h-screen items-center justify-center overflow-hidden'
>
  <!-- Desktop Background - Image with Ken Burns effect -->
  <div class='absolute inset-0 hidden md:block'>
    <div class='h-full w-full overflow-hidden'>
      <Picture
        src={heroImage}
        formats={['avif', 'webp']}
        alt='Професійний звук та світло для ваших подій'
        class='animate-ken-burns h-full w-full object-cover'
        loading='eager'
      />
    </div>
    <div class='absolute inset-0 bg-slate-900/60'></div>
  </div>

  <!-- Mobile Background - Video -->
  <div class='absolute inset-0 block md:hidden'>
    <video
      class='h-full w-full object-cover'
      autoplay
      muted
      loop
      playsinline
      poster={heroImage.src}
    >
      <source src={videoAv1} type='video/webm; codecs=av01.0.05M.08' />
      <source src={videoH264} type='video/mp4' />
      <!-- Fallback -->
      <img
        src={heroImage.src}
        alt='Професійний звук та світло для ваших подій'
        class='h-full w-full object-cover'
      />
    </video>
    <div class='absolute inset-0 bg-slate-900/60'></div>
  </div>

  <!-- Hero Content -->
  <div class='container relative z-10 mx-auto px-4 sm:px-6 lg:px-8'>
    <div class='animate-fade-in mx-auto max-w-4xl text-center'>
      <h1
        class='font-heading mb-6 text-4xl font-bold leading-tight text-slate-100 sm:text-5xl lg:text-6xl xl:text-7xl'
      >
        Професійний звук та світло для ваших подій
      </h1>

      <p
        class='mx-auto mb-10 max-w-3xl text-lg leading-relaxed text-slate-300 sm:text-xl lg:text-2xl'
      >
        Від затишних вечірок до масштабних фестивалів. Гарантуємо якість та
        надійність.
      </p>

      <Button
        id='hero-cta-button'
        size='lg'
        className='btn-hero px-8 py-6 text-lg font-semibold'
      >
        Замовити консультацію
        <ArrowRight className='ml-2 h-5 w-5' client:visible />
      </Button>
    </div>
  </div>

  <!-- Scroll Indicator -->
  <!-- <div
    class='absolute bottom-8 left-1/2 -translate-x-1/2 transform animate-bounce'
  >
    <div
      class='flex h-10 w-6 justify-center rounded-full border-2 border-primary/50'
    >
      <div class='mt-2 h-3 w-1 animate-pulse rounded-full bg-primary'></div>
    </div>
  </div> -->
</section>

<script>
  document.getElementById('hero-cta-button')?.addEventListener('click', () => {
    const element = document.querySelector('#contacts');
    if (element) {
      element.scrollIntoView({ behavior: 'smooth' });
    }
  });
</script>
