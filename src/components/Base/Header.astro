---
import Logo from '@/components/Base/Logo.astro';
import Navigation from '@/components/Base/Navigation.astro';
import MobileMenu from '@/components/Base/MobileMenu.astro';
---

<header
  id='main-header'
  class='sticky top-0 z-50 text-white transition-all duration-300'
>
  <div
    class='~pb-7.5/9 container relative mx-auto flex h-full items-center justify-between px-4 transition-all ~pt-6/9'
  >
    <div class='flex items-center ~md/2xl:~gap-2/14'>
      <Logo class='~sm/2xl:~w-43/72 z-50' />
      <Navigation class='hidden lg:block' />
    </div>
    <div class='flex items-center'>
      <button
        type='button'
        id='mobile-menu-button'
        class='z-50 lg:hidden'
        aria-label='Open mobile menu'
        aria-expanded='false'
      >
        <svg
          xmlns='http://www.w3.org/2000/svg'
          width='24'
          height='24'
          viewBox='0 0 24 24'
          fill='none'
          stroke='currentColor'
          stroke-width='2'
          stroke-linecap='round'
          stroke-linejoin='round'
          class='h-8 w-8'
        >
          <line x1='3' y1='12' x2='21' y2='12'></line>
          <line x1='3' y1='6' x2='21' y2='6'></line>
          <line x1='3' y1='18' x2='21' y2='18'></line>
        </svg>
      </button>
    </div>
  </div>
</header>
<MobileMenu />

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const header = document.getElementById('main-header');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const closeMobileMenuButton = document.getElementById(
      'close-mobile-menu-button'
    );

    // Glassmorphism effect on scroll
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        header?.classList.add(
          'bg-slate-900/80',
          'backdrop-blur-lg',
          'shadow-lg'
        );
      } else {
        header?.classList.remove(
          'bg-slate-900/80',
          'backdrop-blur-lg',
          'shadow-lg'
        );
      }
    });

    // Toggle mobile menu
    mobileMenuButton?.addEventListener('click', () => {
      mobileMenu?.classList.toggle('hidden');
      document.body.classList.toggle('overflow-hidden');
    });

    closeMobileMenuButton?.addEventListener('click', () => {
      mobileMenu?.classList.add('hidden');
      document.body.classList.remove('overflow-hidden');
    });
  });
</script>
